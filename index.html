<!DOCTYPE html>
<html>
<head>
    <title>Testing Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />

    <!--JQUERY-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <!--BOOTSTRAP JS-->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <!--BOOTSTRAP CSS-->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">

    <!-- angular cdn -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular.min.js"></script>

    <!-- add sanitize -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular-sanitize.js"></script>

    <style>
        #mainbox {
            border-style: solid;
            border-width: 5px;
           /* width: 630px;
            height: 400px;*/    
        }

        #iframe {
            overflow: hidden;
        }

        #url {
            width: 100%;
        }

        #height {
            width: 100%;
        }

        body {
            min-height: 2000px;
        }

        /* centered columns styles */
        .row-centered {
            text-align:center;
        }
        .col-centered {
            display:inline-block;
            float:none;
            /* reset the text-align */
            text-align:left;
            /* inline-block space fix */
            margin-right:-4px;
        }

    </style>
</head>
<body>

<div ng-app="iframeApp" class="container">
<section ng-controller="iframeController as iframe">
<div class="row">
<div class="col-md-12">
    <h1 class="text-center">Iframe Generator</h2>
</div>
    <!-- URL -->
    <form class="form-horizontal-form-inline" role="form">
        <div class="form-group-lg">
            <div class="col-md-8">
                <input type="text" class="form-control" id="url" placeholder="URL of Graphic" ng-model="iframe.url" value={{iframe.url}}>
            </div>
        </div>
        <!-- HEIGHT -->
        <div class="form-group">
            <div class="col-md-3">
                <div class="input-group">
                  <input class="form-control" type="number" id="height" ng-model="iframe.height"placeholder="iFrame Height" value={{iframe.height}}>
                    <div class="input-group-addon">px</div>
                </div>
            </div>
        </div>
<!--         <div class="form-group">
            <div class="col-md-1">
                <button class="btn btn-primary">Preview</button>
            </div>
        </div> -->
    </form>
</div>

<!-- text box output -->
<div class="row-fluid">
    <span class="help-block">Iframe Code:</span>
        <textarea type="text" class="form-control" id="textBox" rows=4>
<iframe src="{{iframe.url}}" scrolling="no" frameborder="0" width="{{iframe.width}}px" height="{{iframe.height}}px"><a href="{{iframe.url}}" target="_blank">View an interactive on a separate page.</a> </iframe>
        </textarea>
</div>
 
 <!-- buttons -->
 <div class="row-fluid">
    <span class="help-block">Width:</span>
    <div class="col-xs-6">

        <div class="btn-group" role="group">

                <input type="radio" name="options" ng-model="iframe.width" id="mobile" ng-value="300"> Mobile Width (300px)
                <input type="radio" name="options" id="article" ng-value="622" ng-model="iframe.width" checked> Article Width (622px) 
            
         </div> <!-- end input group-->
    </div><!-- End 6 col -->

    <div class="col-xs-6">
        <div class="input-group">
            <span class="input-group-addon">
                <input type="radio" aria-label="Select Custom" name="options" described-by="custom-width"> Custom Width
            </span>
            <input type="number" ng-model="iframe.width" id="custom-width" class="form-control">
        </div>     <!-- End input group -->
    </div>  <!-- End col 6 -->
       
        
</div>


   

<!-- preview -->
<div class="row row-centered"> 
    <div class="col-lg-12 col-centered">
        <h2 class="text-center" id="boxLabel">{{iframe.width}}px wide</h2>
    </div>
</div>
<!-- row -->
<div class = "row row-centered">
    <!-- column -->
    <div class="col-xs-12 col-centered">
        <!-- box for content -->
        <div id="mainbox" ng-bind-html="iframe.myIframe"  class="center-block" style="height:{{iframe.height + 10}};width:{{iframe.width + 10}}" >
        </div>
    </div>

<div class = "row row-centered">

    <div class="col-xs-3 col-centered">
        <span class="help-block">Adjust height</span>
            <div class="form-group">
                <div class="input-group">
                  <input class="form-control" type="number" id="height" ng-model="iframe.height"placeholder="iFrame Height" value={{iframe.height}}>
                    <div class="input-group-addon">px</div>
                </div>
            </div>
    </div>
</div>

</section>    
</div>

<script>

// $(document).ready(function(){
    
//     //change header text
//     function changeHeaderText(){
//         var liveDivSize = $("#mainbox").width();
//         $("#boxLabel").html("Width = " + liveDivSize + "px");
//     }
//     changeHeaderText();

//     //change box size
//     $("input:radio[name=optionsRadios]").click(function(){

//         makeIframe(); 
//     });

//     function makeIframe(){
//         //get form values
//         var height = $("#height").val();
//         var url = $("#url").val();
//         var radioValue = $("input:radio[name=optionsRadios]:checked").val();//note this is a string b/c the difference between 100% and 300px

//         //change box width on radio button selection
//         var radioID = $("input:radio[name=optionsRadios]:checked").attr("id");
//         if(radioID=="mobile"){
//            $("#mainbox").width(300); 
//         }
//         else if (radioID=="article"){
//            $("#mainbox").width(622); 
//         }
//         else {
//             $("#mainbox").width("90%"); 
//         }

//         //change mainbox height
//         $("#mainbox").css("height", +height + 10);

//         var width = $("#mainbox").width();

//         //write iframe for preview
//         $("#mainbox").html('<iframe src="' + url + '" scrolling="no" frameborder="0" width="' + width + 'px" height="' + height + 'px"><a href="' + url + '">View an interactive on a separate page.</a> </iframe>');

//         //put preview info in textbox
//         $("#textBox").html('<iframe src="' + url + '" scrolling="no" frameborder="0" ' + radioValue + ' height="' + height + 'px"><a href="' + url + '">View an interactive on a separate page.</a> </iframe>');
//         //change header text
//         changeHeaderText();
//     }

//     //get radio value
//     //make iframe on submit
//     $("#submit").click(function(){
//         makeIframe();
//         return false;
//         });

//     //bind window resize to label
//     $(window).bind("resize", function(){
//         makeIframe();
//             });
    
    
// });

</script>

<!-- load angular script -->
<script src="js/app.js"></script>


</body>
</html>